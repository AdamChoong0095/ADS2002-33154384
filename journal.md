ADS2002 indv. portfolio

ADS2002 week 2 entry

This week, I was allocated to my group and introduced to the technique of using convolutional neural networks (CNNs) to classify image data which belonged to a medical imaging dataset. Prior to the introduction of the topic, I conducted research on neural networks, in general, collecting resources and notebook tutorials on how to implement and optimise them. I shared to resources I found to my group members and helped them get TensorFlow (TF) set up as I had already used TF prior to the project’s introduction. No code was generated by our group as we were familiarising ourselves with the mechanics of TF, however, the resources I distributed assisted in this process. The source of the notebooks I distributed to my group members can be found here (the notebooks were in PyTorch but I explained to my group members that the processes explored and mechanics explained in the notebooks are similar to TF): https://www.learnpytorch.io. No particular insights were generated this week.

ADS2002 week 3 entry

This week I did basic exploratory data analysis and an assessment on the cleanliness of the data. This involved conducting research on the variables observed in the dataset. For example, I found out what CVC, ETT and NGT described in the dataset and their implications for determining a conclusive result for the project. Since it was relatively difficult to access the data, our group’s main priority was to decide our research question. I proposed that we study casual features in the images which are outlined by the training annotations data set and determine which feature seems to result in an improper placement of each given type of catheter. I also wanted to consider the reliability and accuracy of our predictions when applied to the testing set of images. My other group member suggested a research question about using our results to help streamline the catheter placement process for medical professionals and although the purpose of this project may be to assist in the automation of identifying of misplaced catheters, I believe their suggestion is too implicative meaning that it should be a question answered during the evaluation of the results. The current state of our code only deals with the contents of the csv files as indicated below:

<img width="452" alt="image" src="https://github.com/AdamChoong0095/ADS2002-33154384/assets/130020182/91e8ed09-3ee7-4ff1-a505-e2c81a813e5b">

To assist with comprehending the data, I wanted to answer the following questions: How many patients were being analysed? How many images were taken of each patient? How can I best choose a visual to represent the data? I did not manage to find an adequate way to visualise the data but next week, I aim to finish this process. The main insights that I generated, however, were to do with discovering what each variable meant in the context of medicine and radiology. 

Github commit link: https://github.com/louisechilds/ADS2002-Catheter/pull/7

ADS2002 portfolio entry week 4

This week, I reviewed the previous semester’s notebooks and devised a plan to apply K-means clustering and principal component analysis to the data set. However, I had a lot of trouble importing all the data, so I had to search up methods to import samples of data for testing.  Since only small amounts of data could be imported, in my opinion it would be better to use unsupervised methods to prevent either severe overfitting or underfitting due to the lack of data in the samples extracted. My team members and I each found a way to visualise separate parts of the dataset. The visual I produced was a stacked bar graph which had the purpose of comparing quantities of certain attributes. Perhaps, it could have benefitted from being proportional rather than counted. This is because small quantities with significant meaning will be omitted or hard to see in the stacked bar chart. 

<img width="272" alt="image" src="https://github.com/AdamChoong0095/ADS2002-33154384/assets/130020182/f5cb3143-9834-4762-b782-4074e267fbb8">

However, this stacked bar chart clearly shows the heavy biases that exist in our dataset and that we must balance it some way or another if we are going to use a substantial proportion of all the data. Next week, our aims are to at least read the image data, perform the above-mentioned classical machine learning techniques before configuring our convolutional neural networks (CNNs) in the coming weeks. 

Git pull request link: https://github.com/louisechilds/ADS2002-Catheter/pull/9

ADS2002 week 5 portfolio entry

During this week, the main task I managed to solve was reading the image data successfully as a sample. Other activities I engaged in were some experimentations with reducing the images unsuccessfully using PCA, although I intend to get some assistance and try again since I know it is possible to conduct PCA on image data that is in the right format. Currently, I have my image data in the format of a list of arrays which will not work during PCA so I may require to find solutions to make sure I can create an array of array representations of the data so I can start implementing PCA and K means like I wanted to last week. Other activities I engaged in with my group were supervising and advising another group member as they generated visuals for the data and conducted further EDA. Admittedly, I was a bit vague in my instructions so I could foresee some upcoming complications in next week’s studio which I intend to resolve as soon as possible. The code I generated this week to read the image data successfully is included below. I used an external library, cv2, instead of tensorflow because of its ability to rapidly read images in large quantities like I aimed to last week.

<img width="452" alt="image" src="https://github.com/AdamChoong0095/ADS2002-33154384/assets/130020182/adaad653-4ebb-4acc-a717-94a0d848a97c">
 
As a result, I managed to preview some images in the notebook which was quite an important milestone to me as we could begin meaningfully interacting with the dataset.

<img width="452" alt="image" src="https://github.com/AdamChoong0095/ADS2002-33154384/assets/130020182/40869e0f-37f1-405b-a01d-9e3127553520">

No results related insights were generated this week but perhaps after I make the data compatible to PCA for reduction purposes, I will be able to pass images through a model to generate insights.

The github link for this week’s commit (no merge request this week) is: https://github.com/louisechilds/ADS2002-Catheter/commit/e5f89e43ef68cc5d6f0d0c848b590d9e19542fff 

ADS2002 week 6 portfolio entry

During this week, I simplified the purpose of our project, modified the data frame to suit the purposes of our research question and altered the image reading function I discovered last week to match our project’s specifications. In addition, I began researching sampling methods with image data because we needed to reduce the amount of data inputted into our models. The main issues encountered when I researched sampling methods were that our dataset was heavily biased and since I could not load the whole dataset into colab, I firstly had to manually pick images to place in an extra folder then, from that extra folder, I had to sample some images. This was due to the extremely limited RAM on colab, which particularly frustrated me, especially when I was trying to configure the image reading function as well. 

With the assistance of my supervisor, I coordinated the technical aspects of the project by delegating duties to myself and another member in such a way that we could both work on different models at the same time without modifying each other’s data significantly or having to create copies of data (which would not have been possible due to RAM limitations). I also discussed the less technical aspects of the project and what they entailed with my other group members to enable them to conduct their own background research on our project. 

The current state of my code for the image reading function allows for the automatic readjustment of image dimensions for compatibility purposes and the ‘wrangling’ I did allows the image data to be indirectly incorporated as a ‘feature’ variable within the main data frame. Below is the code I used to simplify our data frames to suit our research question and an example output.

<img width="345" alt="image" src="https://github.com/AdamChoong0095/ADS2002-33154384/assets/130020182/d932725e-7a20-4800-8ac3-cfdfd3ddc119">
<img width="345" alt="image" src="https://github.com/AdamChoong0095/ADS2002-33154384/assets/130020182/6b9316a5-e539-4008-a02e-7873088cda05">

Note how we have partitioned the data to only include NGT related outcomes. I also made sure that we were not performing modelling on incomplete images by removing the corresponding StudyInstanceUID rows. Lastly, I ensured that all these rows were only pertaining to instances where NGT catheters were actually placed, meaning for all rows, there is at least a 1 in either abnormal, normal or borderline categories. I repeated this procedure for the other two catheters. 

To get an image to be represented indirectly on the data frame, I created a function outlined here.

<img width="452" alt="image" src="https://github.com/AdamChoong0095/ADS2002-33154384/assets/130020182/4e8b2bfd-a4ff-4535-afb9-982a812e9a8d">

The result is a data frame with each row containing the directory path of the image corresponding to the row’s study instance UID. No contributing figures were produced this week but a lot of useful pre-processing work was done. For this week, the most useful insight was related to how I managed to solve the issue of including a representation of the image data compactly in the existing data frame. I was also told to simplify my group’s problem type from a multiclassification to a binary classification which made managing many aspects of the project a lot easier. 

This week’s github commit link is: https://github.com/louisechilds/ADS2002-Catheter/commit/15787234e9e4f8f14c79a2fa72f9e472f928a6da
